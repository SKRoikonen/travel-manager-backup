
<div *ngIf="selectedTab === 'create'">
    <button class="btn btn-primary" (click)="setTab('show')"  >Show transactions</button>
  <form class="col-md-8" style="background-color: rgb(94, 155, 255) ; ; padding-top: 1vh; height: 83vh; width: 300px" #createForm="ngForm" (ngSubmit)="createTransactions();">

    <div style="margin-top: -13px;" fxLayoutAlign="flex-end" class="form-group">

      <mat-selection-list name="freeloadersList" #freeloadersList="ngModel" [(ngModel)]="freeloaders">
          <mat-list-option style="height: 8vh" *ngFor="let member of tripMembers | orderBy: '_id'" [value]="member.username">
              {{ member.username }}
          </mat-list-option>
      </mat-selection-list>
    </div>

    <div class="form-group">
      <label for="transaction-amount">Amount</label>
      <input type="text" class="form-control" #amount="ngModel" required name="transaction-amount" [(ngModel)]="selectedAmount" placeholder="0"/>
    </div>

    <div class="form-group">
      <label for="transaction-unit">Unit</label>
      <input type="text" class="form-control" name="transaction-unit" [(ngModel)]="selectedUnit" placeholder="â‚¬"/>
    </div>

    <div class="form-group">
      <label for="transaction-subject">Subject</label>
      <input type="text" class="form-control" name="transaction-subject" [(ngModel)]="selectedSubject"/>
    </div>

    <button class="btn btn-success" (click)="createTransactions(); setTab('show')" >Create new transaction request</button>
    <div *ngIf="createsuccess === 1" class="alert alert-success">
    Transaction successfully created
    </div>
    <div *ngIf="createsuccess === -1" class="alert alert-danger">
      Username unavailable
      </div>
      <div *ngIf="createsuccess === -2" class="alert alert-danger">
      Failed to create user
      </div>
  </form>
</div>


<div *ngIf="selectedTab === 'show'">
    <button class="btn btn-primary" (click)="setTab('create')"  >Create transaction</button>
  <div id="transactions"  style="background-color: white; overflow-y: scroll; height:83vh">
      <mat-card *ngFor="let transaction of toPayTransactions | orderBy: '_id';">

          
            <mat-card-title>Transaction to make</mat-card-title>
            <mat-card-subtitle>
              {{ transaction.subject }}
            </mat-card-subtitle>    
          <mat-card-content>
              {{transaction.amount}} {{transaction.unit}}
                to  
              {{transaction.payer}}
          </mat-card-content>
        </mat-card>
        
        <mat-card *ngFor="let transaction of toReceiveTransactions | orderBy: '_id';">

          
            <mat-card-title>Transaction to make</mat-card-title>
            <mat-card-subtitle>
              {{ transaction.subject }}
            </mat-card-subtitle>
          <mat-card-content>
              {{transaction.amount}} {{transaction.unit}}
                from
              {{transaction.freeloader}}
          </mat-card-content>
          <mat-card-actions>
            <button class="btn btn-primary" (click)="deleteTransaction(transaction._id)">Paid</button>
          </mat-card-actions>
        </mat-card>
    </div >
</div>
